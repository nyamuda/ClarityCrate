@using Clarity_Crate.Services
@inject FileService FileService
@page "/view-pdf"


<div class="border border-1">
    <SfPdfViewer @ref="PdfViewer" Height="640px" Width="100%"></SfPdfViewer>
</div>

@code {
    

    private SfPdfViewer PdfViewer {get; set; }   

    private byte[] PdfBytes { get; set; } = Array.Empty<byte>(); // Initialize with an empty array

    protected override async Task OnInitializedAsync()
    {
        PdfBytes = FileService.ConvertedResultingPdf;
        // Load the PDF in the viewer
        if (PdfBytes != null && PdfBytes.Length > 0)
        {
            using var pdfStream = new MemoryStream(PdfBytes);
            await PdfViewer.LoadAsync(pdfStream); // Loads the PDF directly from the byte array stream
        }
    }

    // Replace this with your logic to get the byte array
   
}
