@page "/summarizer"
@using Clarity_Crate.Services
@using Clarity_Crate.Models
@using Clarity_Crate.Components.Pages.Flashcards
<PageTitle>Summarizer</PageTitle>
@inject NavigationManager NavigationManager
@inject CurriculumService CurriculumService
@inject SubjectService SubjectService
@inject TopicService TopicService
@inject LevelService LevelService
@inject TermService TermService

<style>
    .desktop-summarizer {
    min-height: 25rem;
   
}

.desk-slider {
    margin-left:50%;
    margin-top:0.9rem;
    position:absolute;
    z-index:5;
}

    .mobile-summarizer {
        min-height: 32rem;
    }
    
 
</style>




<!--Desktop Tabs Start-->
<div class="w-100 d-none d-md-block">
    <MudPaper Class="" Elevation="4">
        <MudPaper Class="desk-slider" Elevation="0">
            <div class="d-flex justify-content-start align-items-center">

                <span>Short</span>
                <MudSlider Class="mx-2 z-10" Variant="Variant.Outlined" Size="Size.Small" Min="25" Max="75" Step="5" @bind-Value="@_summaryPercentage" />
                <span>Long</span>
            </div>
        </MudPaper>

        <MudTabs Class="desktop-summarizer" ActivePanelIndex="1" HideSlider="true" Border="true" Elevation="0" Rounded="true"
                 ApplyEffectsToContainer="true" PanelClass="pa-0 pa-md-6">
            <MudTabPanel Disabled="true" Class="d-none d-lg-flex">
                <TabContent>
                    <MudText Class="grey-text text-darken-4">Modes:</MudText>
                </TabContent>

            </MudTabPanel>
            <MudTabPanel>
                <ChildContent>
                    <SummaryItem SummaryPercentage="_summaryPercentage"  Mode="paragraph" />
                </ChildContent>
                <TabWrapperContent>
                    <MudTooltip Text="Summarizes the content in a single cohesive paragraph.">
                        @context
                    </MudTooltip>
                </TabWrapperContent>
                <TabContent>
                    <MudText>Paragraph</MudText>
                </TabContent>

            </MudTabPanel>
            <MudTabPanel>
                <ChildContent>
                    <SummaryItem SummaryPercentage="_summaryPercentage" Mode="bullet" />
                </ChildContent>
                <TabWrapperContent>
                    <MudTooltip Text="Summarizes the content in a list format, with each point highlighting a key idea.">
                        @context
                    </MudTooltip>
                </TabWrapperContent>
                <TabContent>
                    <MudText class="">Bullet Points</MudText>
                </TabContent>

            </MudTabPanel>
            <MudTabPanel>
                <ChildContent>
                    <SummaryItem SummaryPercentage="_summaryPercentage" Mode="custom" />
                </ChildContent>
                <TabWrapperContent>
                    <MudTooltip Text="Enter specific custom instructions on how you want the text to be summarized.">
                        @context
                    </MudTooltip>
                </TabWrapperContent>
                <TabContent>
                    <MudText class="">Custom</MudText>
                </TabContent>
            </MudTabPanel>


        </MudTabs>
    </MudPaper>
</div>
<!--Desktop Tabs End-->

<!--Mobile Tabs Start-->
<div class="w-100 d-block d-md-none">
    <MudPaper Class="pt-5">
        <MudPaper Class="m-auto pb-2 w-75" Elevation="0">
            <div class="d-flex justify-content-start align-items-center">

                <span>Short</span>
                <MudSlider Class="mx-2 z-10" Variant="Variant.Outlined" Size="Size.Small" Min="25" Max="75" Step="5" @bind-Value="@_summaryPercentage" />
                <span>Long</span>
            </div>
        </MudPaper>
        <MudTabs MinimumTabWidth="2rem" Centered="true" Class="mobile-summarizer" ActivePanelIndex="0" HideSlider="true" Border="true" Elevation="0" Rounded="false" 
                 ApplyEffectsToContainer="true" PanelClass="pa-0 pa-md-6">
            <MudTabPanel>
                <ChildContent>
                    <SummaryItem SummaryPercentage="_summaryPercentage" Mode="paragraph" />
                </ChildContent>
               
                <TabContent>
                    <MudIcon Icon="fas fa-align-left" />
                    <MudText class="ml-1">Paragraph</MudText>
                </TabContent>

            </MudTabPanel>
            <MudTabPanel>
                <ChildContent>
                    <SummaryItem SummaryPercentage="_summaryPercentage" Mode="bullet" />
                </ChildContent>
                
                <TabContent>
                    <MudIcon Icon="fas fa-list-ul"/>
                    <MudText class="ml-1">Bullet Points</MudText>
                </TabContent>

            </MudTabPanel>
            <MudTabPanel>
                <ChildContent>
                    <SummaryItem SummaryPercentage="_summaryPercentage" Mode="custom" />
                </ChildContent>
                
                <TabContent>
                    <MudIcon Icon="fas fa-sliders-h"/>
                    <MudText class="ml-1">Custom</MudText>
                </TabContent>
            </MudTabPanel>


        </MudTabs>
    </MudPaper>
</div>
<!--Mobile Tabs End-->


@code {
    private int _summaryPercentage = 50;
}

